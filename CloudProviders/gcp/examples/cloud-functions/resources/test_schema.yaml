$schema: "http://json-schema.org/draft-07/schema#"
definitions:
  money:
    title: daas/money
    type: object
    additionalProperties: false
    required:
      - amount
      - currency_code
    properties:
      amount:
        type: number
        description: The amount of the specified currency
        format: money
        example: 100
      currency_code:
        type: string
        description: The currency specified as a ISO 4217 alpha code
        example: USD
        format: iso_code
type: object
properties:
  test:
    title: test/test
    type: object
    required:
      - id
      - name
      - money
      - creation_date
      - my_object
    additionalProperties: false
    properties:
      id:
        type: string
        format: name
      name:
        type: string
        format: name
      money: { "$ref": "#/definitions/money" }
      creation_date:
        type: string
        format: date-time
      my_object:
        type: object
        additionalProperties: false
        required:
          - date
          - id
        properties:
          id:
            type: string
            format: name
          date:
            type: string
            format: date-time
